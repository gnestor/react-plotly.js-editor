{"version":3,"sources":["../../../src/components/containers/TraceRequiredPanel.js"],"names":["TraceRequiredPanel","props","state","hasTraces","visible","fullData","context","filter","trace","length","setState","checkTraceExistence","_","localize","children","rest","propTypes","node","func","bool","defaultProps","contextTypes","array"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;IAEMA,kB;;;AACJ,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA,wIACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,iBAAW;AADA,KAAb;AAFiB;AAKlB;;;;0CACqB;AAAA,UACbC,OADa,GACF,KAAKH,KADH,CACbG,OADa;AAAA,UAEbC,QAFa,GAED,KAAKC,OAFJ,CAEbD,QAFa;AAAA,UAGbF,SAHa,GAGA,KAAKD,KAHL,CAGbC,SAHa;;AAIpB,UAAIC,OAAJ,EAAa;AACX,YAAIC,SAASE,MAAT,CAAgB;AAAA,iBAASC,MAAMJ,OAAf;AAAA,SAAhB,EAAwCK,MAAxC,KAAmD,CAAnD,IAAwDN,SAA5D,EAAuE;AACrE,eAAKO,QAAL,CAAc;AACZP,uBAAW;AADC,WAAd;AAGD;AACD,YAAIE,SAASE,MAAT,CAAgB;AAAA,iBAASC,MAAMJ,OAAf;AAAA,SAAhB,EAAwCK,MAAxC,GAAiD,CAAjD,IAAsD,CAACN,SAA3D,EAAsE;AACpE,eAAKO,QAAL,CAAc;AACZP,uBAAW;AADC,WAAd;AAGD;AACF;AACF;;;yCAEoB;AACnB,WAAKQ,mBAAL;AACD;;;wCACmB;AAClB,WAAKA,mBAAL;AACD;;;6BAEQ;AAAA,mBACkC,KAAKV,KADvC;AAAA,UACUW,CADV,UACAC,QADA;AAAA,UACaC,QADb,UACaA,QADb;AAAA,UAC0BC,IAD1B;;AAAA,UAEAZ,SAFA,GAEa,KAAKD,KAFlB,CAEAC,SAFA;;;AAIP,UAAI,KAAKF,KAAL,CAAWG,OAAf,EAAwB;AACtB,eAAOD,YACL;AAAA;AAAiBY,cAAjB;AAAwBD;AAAxB,SADK,GAGL;AACE,mBAASF,EAAE,iDAAF,CADX;AAEE,mBAASA,EAAE,0CAAF;AAFX,UAHF;AAQD;AACD,aAAO,IAAP;AACD;;;;;;AAGHZ,mBAAmBgB,SAAnB,GAA+B;AAC7BF,YAAU,oBAAUG,IADS;AAE7BJ,YAAU,oBAAUK,IAFS;AAG7Bd,WAAS,oBAAUe;AAHU,CAA/B;;AAMAnB,mBAAmBoB,YAAnB,GAAkC;AAChChB,WAAS;AADuB,CAAlC;;AAIAJ,mBAAmBqB,YAAnB,GAAkC;AAChChB,YAAU,oBAAUiB;AADY,CAAlC;;kBAIe,mBAAStB,kBAAT,C","file":"TraceRequiredPanel.js","sourcesContent":["import PanelEmpty from './PanelEmpty';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {LayoutPanel} from './derived';\nimport {localize} from 'lib';\n\nclass TraceRequiredPanel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasTraces: false,\n    };\n  }\n  checkTraceExistence() {\n    const {visible} = this.props;\n    const {fullData} = this.context;\n    const {hasTraces} = this.state;\n    if (visible) {\n      if (fullData.filter(trace => trace.visible).length === 0 && hasTraces) {\n        this.setState({\n          hasTraces: false,\n        });\n      }\n      if (fullData.filter(trace => trace.visible).length > 0 && !hasTraces) {\n        this.setState({\n          hasTraces: true,\n        });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    this.checkTraceExistence();\n  }\n  componentDidMount() {\n    this.checkTraceExistence();\n  }\n\n  render() {\n    const {localize: _, children, ...rest} = this.props;\n    const {hasTraces} = this.state;\n\n    if (this.props.visible) {\n      return hasTraces ? (\n        <LayoutPanel {...rest}>{children}</LayoutPanel>\n      ) : (\n        <PanelEmpty\n          heading={_(\"Looks like there aren't any traces defined yet.\")}\n          message={_(\"Go to the 'Create' tab to define traces.\")}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nTraceRequiredPanel.propTypes = {\n  children: PropTypes.node,\n  localize: PropTypes.func,\n  visible: PropTypes.bool,\n};\n\nTraceRequiredPanel.defaultProps = {\n  visible: true,\n};\n\nTraceRequiredPanel.contextTypes = {\n  fullData: PropTypes.array,\n};\n\nexport default localize(TraceRequiredPanel);\n"]}